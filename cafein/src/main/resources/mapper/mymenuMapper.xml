<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MymenuDAO">
<!-- 고객 나만의 메뉴 조회 -->

<select id="getMymenu" resultType="viewmymenu">
SELECT
	  C_ID "cId"
	, S_NAME "sName"
	, M_NAME "mName"
	, M_PRICE "mPrice"
	, CA_NUM "caNum"
	, CU_NUM "cuNum"
	, OP_NUM "opNum"
FROM MYMENU_VIEW
WHERE C_ID=#{cId}
</select>
<delete id="deleteMymenu" parameterType="mymenu">
DELETE FROM 
<where>
	<choose>
		<when test="cuNum != null and cuNum.length>0">
			CU_NUM in
				<foreach collection="cuNum" open="(" close=")"
					separator="," item="item">
					#{item}
				</foreach>
		</when>
		<otherwise>
			CU_NUM = #{cuNum}
		</otherwise>
	</choose>
</where>  
</delete>

</mapper>