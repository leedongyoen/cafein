<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="PosDAO">

	

	<!-- 매장 pos기 메뉴조회 -->
	<select id="getStoreMenuList" resultType="viewpos">
		SELECT
			S_ID "sId"
			, M_NAME "mName"
			, M_NUM "mNum"
			, CA_NUM "caNum"
			, OP_NAME "opName"
			, OP_PRICE "opPrice"
			, M_PRICE "mPrice"
		FROM POSSEL_VIEW
		group by S_ID
			, M_NAME
			, M_NUM
			, CA_NUM
			, OP_NAME
			, OP_PRICE
			, M_PRICE
	</select>
	<!-- 메뉴선택시 옵션 가져오기 -->
	<select id="getOptionList" resultType="recipe">
		SELECT 
			    M_NUM  "mNum"
			   , OP_NAME "opName"
			   , OP_PRICE "opPrice"
		FROM RECIPE
		WHERE S_ID= #{sId}
		AND M_NUM = #{mNum}
		AND( CA_NUM = 'CAOP'
		OR CA_NUM = 'CAIC'
		OR CA_NUM = 'CAHT')
	</select>


</mapper>