<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="SumSalesDAO">
	
<!-- 	<resultMap type="menu" id="menu">
		<result column="M_NUM" property="mNum"/>
		<result column="M_NAME" property="mName"/>
		<result column="M_PRICE" property="mPrice"/>
	</resultMap>
	<resultMap type="order" id="order">
		<result column="O_NUM" property="oNum"/>
		<result column="O_DATE" property="oDate"/>
		<result column="TOTAL" property="total"/>
	</resultMap>
	<resultMap type="orderdt" id="orderdt">
		<result column="O_DNUM" property="oDnum"/>
		<result column="O_QTY" property="oQty"/>
		<collection property="mNum" resultMap="menu.mNum"/>
		<collection property="oNum" resultMap="order.oNum"/>
	</resultMap> -->
	<select id="getDaySales" resultType="salessum">
	SELECT WEEK , SUM(O_QTY) , SUM(TOTAL)
	FROM 
	(SELECT O_DATE, O_QTY, TO_CHAR(O_DATE, 'DY') WEEK, 
	TOTAL
	FROM ORDERS O JOIN ORDER_DETAILS OD
	ON O.O_NUM = OD.O_NUM
	)
	GROUP BY WEEK;
	</select> 
	<!-- 	<select id="getTimeSales" resultType="salessum">
		SELECT 
	</select>	
		<select id="getMonthSales" resultType="salessum">
		SELECT 
	</select>	
		<select id="getYearSales" resultType="salessum">
		SELECT 
	</select>	
		<select id="getMenuSales" resultType="salessum">
		SELECT 
	</select>		 -->
</mapper>